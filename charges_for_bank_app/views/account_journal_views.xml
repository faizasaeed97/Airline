<?xml version="1.0"?>
<odoo>
    <data>
        <record id="invoice_inherit_view" model="ir.ui.view">
            <field name="name">account.journal.inherit</field>
            <field name="model">account.journal</field>
            <field name="inherit_id" ref="account.view_account_journal_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='bank_account_id']" position="after">
                    <field name="default_bank_account_id" attrs="{'invisible':[('type', '!=', 'bank')]}"/>
                </xpath>
            </field>
        </record>

        <!--        <record id="account_payment_inherit_view" model="ir.ui.view">-->
        <!--            <field name="name">account.payment.inherit</field>-->
        <!--            <field name="model">account.payment</field>-->
        <!--            <field name="inherit_id" ref="account.view_account_payment_invoice_form"/>-->
        <!--            <field name="arch" type="xml">-->
        <!--                <xpath expr="//field[@name='payment_method_id']" position="after">-->
        <!--                    <field name="is_bank_charge" invisible="1"/>-->
        <!--                    <field name="account_payment" attrs="{'invisible':[('is_bank_charge', '!=',True)]}"/>-->
        <!--                </xpath>-->
        <!--            </field>-->
        <!--        </record>-->
        <record id="account_payment_inherit_form_view_ppp" model="ir.ui.view">
            <field name="name">account.payment.inherit1</field>
            <field name="model">account.payment.register</field>
            <field name="inherit_id" ref="account.view_account_payment_form_multi"/>
            <field name="arch" type="xml">


                <xpath expr="//field[@name='group_payment']" position="after">
                    <field name="Amount_pay"/>
                </xpath>

                <xpath expr="//form" position="inside">

                    <notebook>
                        <page string="invoices &amp; Inputs">
                            <field name="invoice_ids"
                                   mode="tree"
                            >
                                <tree string="invoice" editable="bottom">
                                    <field name="state" invisible="1"/>
                                    <field name="name" readonly="1"/>
                                    <field name="invoice_partner_display_name"/>
                                    <field name="invoice_date"/>
                                    <field name="amount_residual"/>
                                    <field name="amount_total_signed"/>
                                    <field name="Amount_pay" readonly="0"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </xpath>
            </field>
        </record>

        <record id="account_payment_inherit_form_view" model="ir.ui.view">
            <field name="name">account.payment.inherit1</field>
            <field name="model">account.payment</field>
            <field name="inherit_id" ref="account.view_account_payment_form"/>
            <field name="arch" type="xml">

                <xpath expr="//field[@name='journal_id']" position="after">
                    <field name="is_bank_charge" invisible="1"/>


                    <field name="account_payment" attrs="{'invisible':[('is_bank_charge', '!=',True)]}"/>
                </xpath>

                <xpath expr="//field[@name='company_id']" position="after">
                    <field name="is_emp" attrs="{'invisible': [('payment_type', '!=', 'outbound')]}"/>
                    <field name="emp_accnt" string="Employee Account"
                           attrs="{'invisible':[('is_emp', '!=',True)],'required': [('is_emp', '=', True)]}"/>


                </xpath>

                <xpath expr="//field[@name='partner_type']" position="attributes">
                    <attribute name="attrs">{'invisible': [('payment_type', '!=',outbound)]}
                    </attribute>
                </xpath>


                <!--                <xpath expr="//sheet" position="inside">-->

                <!--                    <notebook>-->
                <!--                        <page string="invoices &amp; Inputs">-->
                <!--                            <field name="open_invoices"-->
                <!--                                   mode="tree"-->
                <!--                            >-->
                <!--                                <tree string="invoice" editable="bottom">-->
                <!--                                    <field name="state" invisible="1"/>-->
                <!--                                    <field name="name" readonly="0"/>-->
                <!--                                    <field name="invoice_partner_display_name"/>-->
                <!--                                    <field name="invoice_date"/>-->
                <!--                                    <field name="amount_residual"/>-->
                <!--                                    <field name="amount_total_signed"/>-->
                <!--                                    <field name="Amount_pay"/>-->
                <!--                                </tree>-->
                <!--                            </field>-->
                <!--                        </page>-->
                <!--                    </notebook>-->
                <!--                </xpath>-->
            </field>
        </record>

        <record id="view_bank_statement_form_inherit" model="ir.ui.view">
            <field name="name">account.bank.statement.form</field>
            <field name="model">account.bank.statement</field>
            <field name="priority">1</field>
            <field name="arch" type="xml">
                <form string="Bank Statement">
                    <header>
                        <field name="all_lines_reconciled" invisible="1"/>
                        <button name="action_bank_reconcile_bank_statements" string="Select invoices" type="object"
                                class="oe_highlight"
                                attrs="{'invisible':['|','|',('all_lines_reconciled','=',True),('line_ids','=',[]),('state', '!=', 'open')]}"/>
                        <button name="check_confirm_bank" string="Validate" type="object" class="oe_highlight"
                                attrs="{'invisible':['|','|',('all_lines_reconciled','=',False),('line_ids','=',[]),('state', '!=', 'open')]}"/>
                        <button name="button_reopen" states="confirm" string="Reset to New" type="object"/>
                        <field name="state" widget="statusbar" statusbar_visible="open,confirm"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button class="oe_stat_button" name="button_journal_entries"
                                    string="Journal Entries" type="object"
                                    attrs="{'invisible':[('move_line_count','=', 0)]}" icon="fa-bars"/>
                            <field name="move_line_count" invisible="1"/>

                        </div>
                        <div class="oe_title oe_inline">
                            <label for="name" class="oe_edit_only"/>
                            <h1>
                                <field name="name"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="journal_type" invisible="1"/>
                                <field name="cashbox_start_id" invisible="1"/>
                                <field name="cashbox_end_id" invisible="1"/>
                                <field name="journal_id" domain="[('type', '=', journal_type)]"
                                       attrs="{'readonly': [('move_line_count','!=', 0)]}" widget="selection"/>
                                <field name="is_bank_charge" invisible="1"/>
                                <field name="account_payment" attrs="{'invisible':[('is_bank_charge', '!=',True)]}"/>

                                <field name="date" options="{'datepicker': {'warn_future': true}}"/>
                                <field name="accounting_date" groups="base.group_no_one"/>
                                <field name='company_id' options="{'no_create': True}"
                                       groups="base.group_multi_company"/>
                                <field name="currency_id" invisible="1"/>
                                <field name="cheque_no"/>
                                <field name="chq_date"/>
                                <field name="purpose"/>
                                <field name="payee_name"/>
                            </group>
                            <group>
                                <label for="balance_start" invisible="1"/>
                                <div>
                                    <field class="oe_inline" name="balance_start" invisible="1"/>
                                    <button name="open_cashbox_id"
                                            attrs="{'invisible': ['|','|',('state','!=','open'),('journal_type','!=','cash')]}"
                                            string="&#8594; Count" type="object" class="oe_edit_only oe_link oe_inline"
                                            context="{'balance':'start'}"/>
                                </div>
                                <label for="balance_end_real" invisible="1"/>
                                <div>
                                    <field class="oe_inline" name="balance_end_real" invisible="1"/>
                                    <button name="open_cashbox_id"
                                            attrs="{'invisible': ['|','|',('state','!=','open'),('journal_type','!=','cash')]}"
                                            string="&#8594; Count" type="object" class="oe_edit_only oe_link oe_inline"
                                            context="{'balance':'close'}"/>
                                </div>
                            </group>
                        </group>

                        <notebook>
                            <page string="Transactions" name="statement_line_ids">
                                <field name="line_ids" context="{'date':date}">
                                    <tree editable="bottom" string="Statement lines"
                                          decoration-muted="journal_entry_ids" limit="500">
                                        <field name="sequence" widget="handle"/>
                                        <field name="journal_entry_ids" invisible="1"/>
                                        <field name="date" attrs="{'readonly' : [('journal_entry_ids', '!=', [])] }"/>
                                        <field name="name" attrs="{'readonly' : [('journal_entry_ids', '!=', [])] }"/>
                                        <field name="partner_id"
                                               domain="['|',('parent_id','=',False),('is_company','=',True)]"
                                               attrs="{'readonly' : [('journal_entry_ids', '!=', [])] }"/>
                                        <field name="ref" attrs="{'readonly' : [('journal_entry_ids', '!=', [])] }"
                                               groups="base.group_no_one"/>
                                        <field name="transaction_type"
                                               attrs="{'readonly' : [('journal_entry_ids', '!=', [])] }"
                                               optional="hidden"/>
                                        <field name="note" optional="hidden"/>
                                        <field name="amount" attrs="{'readonly' : [('journal_entry_ids', '!=', [])] }"/>
                                        <field name="journal_currency_id" invisible="1"/>
                                        <field name="bank_account_id" invisible="1"/>
                                        <field name="account_number" optional="hidden"/>
                                        <field name="amount_currency" optional="hidden"/>
                                        <field name="currency_id" optional="hidden"/>
                                        <field name="state" invisible="1"/>
                                        <button name="button_cancel_reconciliation"
                                                attrs="{'invisible': ['|',('journal_entry_ids', '=', []), ('state', '=', 'confirm')]}"
                                                string="Revert reconciliation" type="object" icon="fa-undo"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                        <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                            <div class="oe_subtotal_footer_separator oe_inline">
                                <label for="balance_end"/>
                            </div>
                            <field name="balance_end" nolabel="1" class="oe_subtotal_footer_separator"/>
                        </group>
                        <div class="oe_clear"/>
                    </sheet>
                    <div class="o_attachment_preview"/>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>


        <record id="action_bankstament_inh" model="ir.actions.act_window">
            <field name="name">Multiple Invoice payment</field>
            <field name="res_model">account.bank.statement</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_bank_statement_form_inherit"/>
            <!--            <field name="search_view_id" ref="view_account_invoice_filter"/>-->
            <field name="domain">[('journal_id.type', '=', 'bank')]</field>
            <field name="context">{'journal_type':'bank'}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create Multiple invoice payment
                </p>
            </field>
        </record>


        <menuitem
                id="menu_action_openbnkstmnt"
                action="action_bankstament_inh"
                parent="account.menu_finance_entries_accounting_miscellaneous"
                sequence="2"/>


    </data>
</odoo>