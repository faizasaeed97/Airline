<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="cs_order_print_template">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <!--        <t t-call="report.basic_layout">-->

                <div class="page">
                    <t t-foreach="costsheet" t-as="o">
                        <t t-set="margin" t-value="0"/>
                        <t t-set="labor_cost" t-value="0"/>


                        <div class="row">
                            <table width="100%">
                                <tr style="background-color:#D9DBE9">
                                    <!--						<td width="15%" align="center" style="font-size:14px"> <b><span t-field="o.x_ro_no" /></b> </td>-->
                                    <td colspan="6" align="center" style="font-size:16px">
                                        <b>Cost Sheet</b>
                                    </td>

                                    <!--							<td width="15%" align="center" style="font-size:14px"><b><span t-field="o.name" /></b></td>-->
                                </tr>

                            </table>
                        </div>

                        <div class="row">


                            <table border="0" cellpadding="0" cellspacing="0" class="table-bordered" width="100%">

                                <tr style="line-height: 23px;font-size:13px" width="100%">
                                    <td align="center" width="20%">
                                        <b>CS No</b>
                                    </td>
                                    <td align="center" width="30%">
                                        <span t-esc="o.name"/>

                                    </td>

                                    <td align="center" width="20%">
                                        <b>Date</b>
                                    </td>
                                    <td align="center" width="30%">
                                        <span t-esc="o.cost_sheet_date"/>
                                    </td>

                                </tr>

                                <tr style="line-height: 23px;font-size:13px" width="100%">
                                    <td align="center" width="20%">
                                        <b>Client</b>
                                    </td>
                                    <td align="center" width="30%">
                                        <span t-esc="o.client.name"/>
                                    </td>
                                    <td align="center" width="20%">
                                        <b>Contact</b>
                                    </td>
                                    <td align="center" width="30%">
                                        <span t-esc="o.client.mobile"/>
                                    </td>

                                </tr>

                                <tr style="line-height: 23px;font-size:13px" width="100%">

                                    <td align="center" width="20%">
                                        <b>Pro.Name:</b>
                                    </td>
                                    <td align="center" width="30%">
                                        <span t-esc="o.opportunity_id.name"/>
                                    </td>
                                    <td align="center" width="20%">
                                        <b>Salesperson</b>
                                    </td>
                                    <td align="center" width="30%">
                                        <span t-esc="o.sale_person.name"/>

                                    </td>

                                </tr>
                            </table>
                        </div>


                        <br/>
                        <br/>


                        <div class="row">
                            <table border="0" cellpadding="0" cellspacing="0" class="table-bordered" width="100%">
                                <tbody>
                                    <tr style="font-size:13px" col="4" colspan="12">
                                        <td align="center" width="20%">
                                            <b>Qtn No</b>
                                        </td>
                                        <td align="center" width="30%">

                                        </td>

                                        <td align="center" width="20%">
                                            <b>Qtn Date</b>
                                        </td>
                                        <td align="center" width="30%">
                                            <b></b>
                                        </td>

                                    </tr>

                                    <tr style="font-size:13px" col="4" colspan="12">
                                        <td align="center" width="20%">
                                            <b>Project No</b>
                                        </td>
                                        <td align="center" width="30%">
                                            <b></b>
                                        </td>

                                        <td width="20%">

                                        </td>
                                        <td width="30%">

                                        </td>

                                        <!--                <td align="center">-->
                                        <!--                    <b>Contact</b>-->
                                        <!--                </td>-->
                                        <!--                <td align="center">-->
                                        <!--                    <b></b>-->
                                        <!--                </td>-->

                                    </tr>

                                    <tr style="font-size:13px" col="4" colspan="12">

                                        <td align="center" width="20%">
                                            <b>Start Date:</b>
                                        </td>
                                        <td align="center" width="30%">
                                            <b></b>
                                        </td>
                                        <td align="center" width="20%">
                                            <b>Est.Comp Date</b>
                                        </td>
                                        <td align="center" width="30%">
                                            <span t-esc="o.closing_estimation_target"/>
                                        </td>

                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <br/>


                        <div class="row">
                            <table width="100%">
                                <tr style="background-color:#D9DBE9">
                                    <!--						<td width="15%" align="center" style="font-size:14px"> <b><span t-field="o.x_ro_no" /></b> </td>-->
                                    <td colspan="6" align="center" style="font-size:16px">
                                        <b>Materials</b>
                                    </td>

                                    <!--							<td width="15%" align="center" style="font-size:14px"><b><span t-field="o.name" /></b></td>-->
                                </tr>

                            </table>
                        </div>


                        <div class="row">
                            <table class="table-bordered" width="100%" style="border-color:black">
                                <tr style="height:60px;vertical-align:top; border-color:white">
                                    <td style="border-color:white">
                                        <table class="table-bordered" width="100%" style="border-color:black">
                                            <tr style=" line-height: 21px; font-size:13px;background-color:#D5DBDB; border-color:black">

                                                <td style="border-color:black" width="5%" align="center">
                                                    <b>S.No</b>
                                                </td>
                                                <!--                                        <td style="border-color:black" width="20%" align="center">-->
                                                <!--                                            <b>Final Product</b>-->
                                                <!--                                        </td>-->

                                                <td style="border-color:black" width="25%" align="center">
                                                    <b>Material/Service</b>
                                                </td>

                                                <td style="border-color:black" width="10%" align="center">
                                                    <b>Quantity</b>
                                                </td>
                                                <td style="border-color:black" width="10%" align="center">
                                                    <b>UOM</b>
                                                </td>
                                                <td style="border-color:black" width="10%" align="center">
                                                    <b>Rate</b>
                                                </td>
                                                <td style="border-color:black" width="10%" align="center">
                                                    <b>Total</b>
                                                </td>

                                                <td style="border-color:black" width="10%" align="center">
                                                    <b>Material Purchase</b>
                                                </td>

                                                <td style="border-color:black" width="10%" align="center">
                                                    <b>Labor Charges</b>
                                                </td>

                                                <td style="border-color:black" width="10%" align="center">
                                                    <b>Rental In</b>
                                                </td>

                                                <td style="border-color:black" width="10%" align="center">
                                                    <b>Rental Out</b>
                                                </td>


                                            </tr>

                                            <t t-set="count" t-value="0"/>
                                            <t t-foreach="vals" t-as="l">

                                                <t t-if="l['final'] and not l['display'] ">

                                                    <t t-set="count" t-value="0"/>
                                                    <tr style=" line-height: 21px;background-color:#ffcc80; border-color:black">

                                                        <td width="5%">

                                                        </td>
                                                        <td style="border-color:black;font-size:15px;" align="center"
                                                            width="25%">
                                                            <strong>
                                                                <span t-esc="l.get('name','')"/>
                                                            </strong>
                                                        </td>


                                                        <td style="border-color:black;font-size:13px;" align="center"
                                                            width="10%">

                                                        </td>


                                                        <td style="border-color:black;font-size:13px;" align="center"
                                                            width="10%">

                                                        </td>


                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="10%">


                                                        </td>


                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="10%">

                                                        </td>

                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="10%">

                                                        </td>

                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="10%">
                                                            <strong>
                                                                <span t-esc="l.get('labor','')"/>
                                                            </strong>
                                                        </td>

                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="10%">
                                                            <strong>
                                                                <span t-esc="l.get('rent_int','')"/>
                                                            </strong>
                                                        </td>

                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="10%">
                                                            <strong>
                                                                <span t-esc="l.get('rent_ext','')"/>
                                                            </strong>
                                                        </td>
                                                    </tr>

                                                </t>
                                                <t t-if="not l['final'] and not l['display']">
                                                    <t t-set="count" t-value="count+1"/>

                                                    <tr style="line-height: 15px;border-top-color:white; border-bottom-color:white">
                                                        <!--                                                    <td style="border-color:black;border-top-color:white; border-bottom-color:white"-->
                                                        <!--                                                        width="20%">&#160;&#160;&#160;<span-->
                                                        <!--                                                            t-field="l.product_id.default_code"/>-->
                                                        <!--                                                    </td>-->
                                                        <td style="border-color:black;font-size:13px;"
                                                            width="5%">
                                                            <span
                                                                    t-esc="count"/>
                                                        </td>

                                                        <td style="border-color:black;font-size:13px;" align="center"
                                                            width="25%">
                                                            <span t-esc="l.get('name','')"/>
                                                        </td>

                                                        <!--                                            <td style="border-color:black;font-size:13px;" align="center"-->
                                                        <!--                                                width="20%">-->
                                                        <!--                                                <span-->
                                                        <!--                                                        t-field="l.job_id.name"/>-->
                                                        <!--                                            </td>-->

                                                        <td style="border-color:black;font-size:13px;"
                                                            width="10%" align="center">
                                                            <span t-esc="l.get('qty','0.0')"/>
                                                        </td>

                                                        <td style="border-color:black;font-size:13px;" align="center"
                                                            width="10%">
                                                            <span
                                                                    t-esc="l.get('unit','')"/>
                                                        </td>


                                                        <td style="border-color:black;font-size:13px;" align="center"
                                                            width="10%">
                                                            <!--                                                        <span t-field="l.price_unit"/>&#160;&#160;-->
                                                            <span t-esc="l.get('rate','')"/>
                                                        </td>

                                                        <td style="border-color:black;font-size:13px;"
                                                            width="10%" align="center">
                                                            <!--                                                        <span t-field="l.price_unit"/>&#160;&#160;-->
                                                            <span t-esc="l.get('subtotal','')"/>
                                                        </td>


                                                        <td style="border-color:black;font-size:13px;"
                                                            width="10%" align="center">
                                                            <!--                                                        <span t-field="l.price_unit"/>&#160;&#160;-->
                                                            <span t-esc="l.get('mat_pur','')"/>
                                                        </td>

                                                    </tr>
                                                </t>
                                                <t t-if="l['display']">
                                                    <t t-set="count" t-value="0"/>
                                                    <tr style=" line-height: 21px;background-color:#b3e6ff; border-color:black">

                                                        <td width="5%">

                                                        </td>
                                                        <td style="border-color:black;font-size:15px;" align="center"
                                                            width="25%">

                                                        </td>


                                                        <td style="border-color:black;font-size:13px;" align="center"
                                                            width="10%">

                                                        </td>


                                                        <td style="border-color:black;font-size:13px;" align="center"
                                                            width="10%">

                                                        </td>


                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="10%">

                                                            <strong>Subtotal</strong>

                                                        </td>


                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="10%">
                                                            <strong>
                                                                <span t-esc="l.get('subtotal','')"/>
                                                            </strong>
                                                        </td>

                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="20%">
                                                            <strong>
                                                                <span t-esc="l.get('material','')"/>
                                                            </strong>
                                                        </td>

                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="10%">
                                                            <strong>
                                                                <span t-esc="l.get('labor','')"/>
                                                            </strong>
                                                        </td>

                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="10%">
                                                            <strong>
                                                                <span t-esc="l.get('rent_int','')"/>
                                                            </strong>
                                                        </td>

                                                        <td style="border-color:black;font-size:14px;" align="center"
                                                            width="10%">
                                                            <strong>
                                                                <span t-esc="l.get('rent_ext','')"/>
                                                            </strong>
                                                        </td>
                                                    </tr>

                                                </t>

                                            </t>
                                        </table>
                                    </td>
                                </tr>
                                <br/>
                            </table>

                        </div>

                        <br/>
<hr/>

                        <div class="row">
                            <table class="table-bordered" width="100%" style="border-color:black">
                                <tr style="height:60px;vertical-align:top; border-color:white">
                                    <td style="border-color:white">
                                        <table class="table-bordered" width="100%" style="border-color:black">
                                            <tr style=" line-height: 21px; font-size:13px;background-color:#D5DBDB; border-color:black">

                                                <td style="border-color:black" width="40%" align="center">
                                                    <b>Grand Total</b>
                                                </td>

                                                <td style="border-color:black" width="20%" align="center">

                                                </td>

                                                <td style="border-color:black" width="40%" align="center">
                                                    <span t-esc="o.grand_total"/>

                                                </td>
                                            </tr>

                                            <t t-if="o.state=='Approved'">
                                                <tr style=" line-height: 21px; font-size:13px;background-color:#D5DBDB; border-color:black">

                                                    <td style="border-color:black" width="40%" align="center">
                                                        <b>Markup</b>
                                                    </td>

                                                    <td style="border-color:black" width="20%" align="center">

                                                    </td>

                                                    <td style="border-color:black" width="40%" align="center">
                                                        <span t-esc="o.markup_value"/>
                                                    </td>
                                                </tr>


                                                <tr style=" line-height: 21px; font-size:13px;background-color:#D5DBDB; border-color:black">

                                                    <td style="border-color:black" width="40%" align="center">
                                                        <b>Quotation Value</b>
                                                    </td>

                                                    <td style="border-color:black" width="20%" align="center">

                                                    </td>

                                                    <td style="border-color:black" width="40%" align="center">
                                                        <span t-esc="o.quotation_value"/>
                                                    </td>
                                                </tr>

                                                <tr style=" line-height: 21px; font-size:13px;background-color:#D5DBDB; border-color:black">

                                                    <td style="border-color:black" width="40%" align="center">
                                                        <b>Margin</b>
                                                    </td>

                                                    <td style="border-color:black" width="20%" align="center">

                                                    </td>

                                                    <td style="border-color:black" width="40%" align="center">
                                                        <span t-esc="o.final_profit"/>

                                                    </td>
                                                </tr>
                                            </t>


                                        </table>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <br/>
                        <div class="row">
                            <table width="100%">
                                <tr style="background-color:#D9DBE9">
                                    <!--						<td width="15%" align="center" style="font-size:14px"> <b><span t-field="o.x_ro_no" /></b> </td>-->
                                    <td colspan="6" align="center" style="font-size:16px">
                                        <b>Summery</b>
                                    </td>

                                    <!--							<td width="15%" align="center" style="font-size:14px"><b><span t-field="o.name" /></b></td>-->
                                </tr>

                            </table>
                        </div>

                        <div class="row">
                            <table border="0" cellpadding="0" cellspacing="0" class="table-bordered" width="100%">

                                <tr style="line-height: 23px;font-size:13px" width="100%">
                                    <td align="center" width="20%">
                                        <b>Initial Budget</b>
                                    </td>
                                    <td align="center" width="30%">
                                        <span t-esc="o.initial_budget"/>

                                    </td>

                                    <td align="center" width="20%">
                                        <b>Cost Sheet History</b>
                                    </td>
                                    <td align="center" width="30%">
                                        <span t-esc="o.cs_history_value"/>
                                    </td>

                                </tr>

                                <tr style="line-height: 23px;font-size:13px" width="100%">
                                    <td align="center" width="20%">
                                        <b>Auctual Budget</b>
                                    </td>
                                    <td align="center" width="30%">
                                        <span t-esc="o.auctual_budget"/>
                                    </td>
                                    <td align="center" width="20%">
                                        <b>Quotation Value</b>
                                    </td>
                                    <td align="center" width="30%">
                                        <span t-esc="o.quotation_value"/>
                                    </td>

                                </tr>

                                <tr style="line-height: 23px;font-size:13px" width="100%">

                                    <td align="center" width="20%">
                                        <b>Profit:</b>
                                    </td>
                                    <td align="center" width="30%">
                                        <span t-esc="o.final_profit"/>
                                    </td>


                                </tr>
                            </table>
                        </div>

                    </t>
                </div>
            </t>
        </t>
    </template>

</odoo>

